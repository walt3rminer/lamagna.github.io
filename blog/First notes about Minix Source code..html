<html>
<head>
<title>First notes about Minix Source code.</title>
<link rel="stylesheet" type="text/css" href="css/blogstyle.css">
</head>
<body style="margin:20;padding:0;">
<script language="javascript">
window.parent.document.title = "First notes about Minix Source code.";
</script>
<div id="section">
<p id="postTitle">First notes about Minix Source code.</p>
 I hope not to loose the path with this post, it is about Minix Source code which i am studying for curiosity, but would also be applicable to Linux kernel source code. It is about some conventions used while coding header files in C.<br /><br />In some headers i find this:<br /><span style="font-size:100%;">PUBLIC char *t_stack[TOT_STACK_SPACE / sizeof(char *)];<br />PRIVATE int mini_send() {...};<br />EXTERN struct proc proc[NR_TASKS + NR_PROCS];</span><br /><br />These words are not from C, they are macros declared in a header src/include/minix/const.h file, like this:<br /><span style="font-size:100%;"><span style="font-family: arial;">#define EXTERN extern /* used in *.h files */</span><br /><span style="font-family: arial;">#define PRIVATE static /* PRIVATE x limits the scope of x */</span><br /><span style="font-family: arial;">#define PUBLIC /* PUBLIC is the opposite of PRIVATE */</span></span><br /><br /><span style="font-weight: bold;">The extern keyword</span><br />C permits to link together various modules already compiled, for better management possibilities and time reduction in big projects. The global variables have to be declared just one time. So, a solution is to declare all the global variables in one of the files, and in the other files where this variable is required, use the &quot;extern&quot; declaration. The &quot;extern&quot; work gives the compiler the information to know the types and names of the global variables, without creating a new storage.<br /><br /><span style="font-weight: bold;">The static keyword</span><br />The static variables have different effects when they are local or global.<br /><span style="font-weight: bold; font-style: italic;">Static local variables:</span><br />When the static modifier is applied to a local variable, the compiler creates a permanent storage for it. The difference between a local static variable and a global one, is that the local static variable is only known in the block in which it is declared. It is a variable that whoes value remains between the function calls.<br />Example:<br />adding (void ) {<br /> static int age;<br /> age = age + 1;<br /> return age;<br />}<br /><br />The variable age keeps existing between calls to the function, which returns always a new number.<br /><span style="font-weight: bold; font-style: italic;">Static global variables</span><br />This variables are only known in the file where they where declared, this means that though the variable is global, the other files are not going to see it, nor modify its content directly. <div style="clear: both;"></div>
<b>Published: Friday, January 04, 2008</b>

</div>

<hr>
</body></html>