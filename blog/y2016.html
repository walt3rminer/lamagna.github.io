<html>
<head>
<title>Year 2016</title>
<link rel="stylesheet" type="text/css" href="css/blogstyle.css">
</head>
<body style="margin:20;padding:0;">
<script language="javascript">
window.parent.document.title = "Year 2016";
</script>
<div id="section">



<form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
<input type="hidden" name="cmd" value="_s-xclick">
<input type="hidden" name="hosted_button_id" value="7HY2N4VFEWYCL">
<input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donate_SM.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
¿ Te sirvió la data ? ¿ Te pareció interesante ? Con tu aporte puedo continuar. <img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1">
</form>

<hr>
<p id="postTitle"><a href="Hackeando%20el%20DHCP%20en%20la%20red.html" id="alink">Hackeando el DHCP en la red</a></p>

Para bien o para mal, en casa tengo un proveedor de televisión por cable.  Es el servicio
tradicional donde llega un cable coaxial y se conecta al televisor.  Hace unos pocos dias
vinieron e instalaron un Decodificador, es un dispositivo que se conecta entre el cable
coaxial y la tele permitiendo ver señales digitales con mejor calidad, también incluye un
software con Youtube y aplicaciones para mirar televisión por Internet.<br /><br />

<b>El problema</b>: Este decodificador se conecta a la red LAN de la casa, pero no permite
configurarle una dirección IP estática, la única manera es que obtenga una IP, dirección
de máscara de red y servidores 
de resolución de nombres por <a href="https://www.ietf.org/rfc/rfc2131.txt">DHCP</a>.
<br /><br />

El verdadero problema es que me tomo muy en serio todo lo que permito y no permito
en mi red hogareña, cada servicio nuevo es algo que me preocupa.  Quería evitar tener
que instalar un servidor de DHCP, claramente está deshabilitado el DHCP en mi servidor
wifi por que hago funcionar a las máquinas con IP estática (hasta ahora).<br /><br />

<u>¿ Cómo evitar instalar un servidor de DHCP y hacer funcionar el decodificador que necesita
una IP ?  No hacerlo funcionar no es una opción.</u>
<br />
<b>Solucion:</b> Crear un servidor DHCP minimalista de menos de 200 lineas, 
un script en lo posible, bien simple de levantar y cerrar y poder controlar que IP asigno
a cada estación.<br /><br />


En el RFC se describe el funcionamiento de este protocolo, un gráfico muy claro es este, nos
va a servir luego para revisar el funcionamiento del programa.<br />

<pre>


                Server          Client          Server
            (not selected)                    (selected)

                  v               v               v
                  |               |               |
                  |     Begins initialization     |
                  |               |               |
                  | _____________/|\____________  |
                  |/DHCPDISCOVER | DHCPDISCOVER  \|
                  |               |               |
              Determines          |          Determines
             configuration        |         configuration
                  |               |               |
                  |\             |  ____________/ |
                  | \________    | /DHCPOFFER     |
                  | DHCPOFFER\   |/               |
                  |           \  |                |
                  |       Collects replies        |
                  |             \|                |
                  |     Selects configuration     |
                  |               |               |
                  | _____________/|\____________  |
                  |/ DHCPREQUEST  |  DHCPREQUEST\ |
                  |               |               |
                  |               |     Commits configuration
                  |               |               |
                  |               | _____________/|
                  |               |/ DHCPACK      |
                  |               |               |
                  |    Initialization complete    |
                  |               |               |
                  .               .               .
                  .               .               .
                  |               |               |
                  |      Graceful shutdown        |
                  |               |               |
                  |               |\ ____________ |
                  |               | DHCPRELEASE  \|
                  |               |               |
                  |               |        Discards lease
                  |               |               |
                  v               v               v
     Figure 3: Timeline diagram of messages exchanged between DHCP
               client and servers when allocating a new network address

</pre>

<br />




Script server:<br />
<pre>
#!/usr/bin/perl
use strict;

use IO::Socket;
use Net::DHCP::Packet;
use Net::DHCP::Constants;

######## La ip del server:
my $server_ip = "10.10.10.176";
my $gateway = "10.10.10.1";
my $dnserver = "8.8.8.8";
my $subnet_mask = "255.255.255.255";

my %mac_a_ip = ();

# Decodificador
$mac_a_ip{"b0b88f232fc900000000000000000000"} = "10.10.10.4";
# VM 
$mac_a_ip{"080997ddbbf100000000000000000000"} = "10.10.10.5";

my $socket_in = IO::Socket::INET->new(
	LocalPort => 67,
	LocalAddr => "255.255.255.255",
	Proto    => 'udp') or die $@;

while(1) {
	my $buf;
	print "Waiting...";
	$socket_in->recv($buf,4096);
	my $packet = new Net::DHCP::Packet($buf);
	my $messagetype = $packet->getOptionValue(DHO_DHCP_MESSAGE_TYPE());
	print "Received:\n";
	print $packet->toString();

	if ($messagetype eq DHCPDISCOVER()) {
		send_offer($packet);
	} elsif ($messagetype eq DHCPREQUEST()) {
		$packet->comment(1);
		send_ack($packet);
	}
}

sub send_offer {
	my($request)=@_;
	print "-------- Envio mi oferta ---------\n";
	my $which_machine = $request->chaddr;
	my $client_ip = $mac_a_ip{"$which_machine"};
	print "A $which_machine Ofrezco IP: $client_ip [Servidor: $server_ip:67]\n";
	my $socket_out = IO::Socket::INET->new(
		PeerPort => 68,
		PeerAddr => "255.255.255.255",
		LocalAddr => "$server_ip:67",
		Broadcast => 1,
		Proto    => 'udp') or die $@;

	my $offer = new Net::DHCP::Packet(
                                     Op => BOOTREPLY(),
                                     Xid => $request->xid(),
                                     Flags => $request->flags(),
                                     Ciaddr => $request->ciaddr(),
                                     Yiaddr => $client_ip,
                                     Siaddr => $server_ip,
                                     Giaddr => $request->giaddr(),
                                     Chaddr => $request->chaddr(),
                                     DHO_DHCP_MESSAGE_TYPE() => DHCPOFFER(),
                                   );
	$offer->addOptionValue(DHO_DHCP_LEASE_TIME, 84600);
	$offer->addOptionValue(DHO_DOMAIN_NAME_SERVERS, $dnserver);
	$offer->addOptionValue(DHO_ROUTERS, $gateway);
	$offer->addOptionValue(DHO_SUBNET_MASK(), $subnet_mask);
	$offer->addOptionValue(DHO_NAME_SERVERS, $server_ip);
	$offer->addOptionValue(DHO_DHCP_LEASE_TIME, 100);
	print $offer->toString();
	$socket_out->send($offer->serialize()) or die $!;
}

sub send_ack {
	my ($request) = @_;
	print "-------- Envio ACK ---------\n";
	my $which_machine = $request->chaddr;
	my $client_ip = $mac_a_ip{"$which_machine"};
	print "A $which_machine ACK de IP: $client_ip [Servidor: $server_ip:67]\n";
	my $socket_out = IO::Socket::INET->new(
		PeerPort => 68,
		PeerAddr => "255.255.255.255",
		LocalAddr => "$server_ip:67",
		Broadcast => 1,
		Proto    => 'udp') or die $@;

	$request = Net::DHCP::Packet->new(
            Comment                 => $request->comment(),
            Op                      => BOOTREPLY(),
            Hops                    => $request->hops(),
            Xid                     => $request->xid(),
            Flags                   => $request->flags(),
            Ciaddr                  => $request->ciaddr(),
            Yiaddr                  => $client_ip,
            Siaddr                  => $request->siaddr(),
            Giaddr                  => $request->giaddr(),
            Chaddr                  => $request->chaddr(),
            DHO_DHCP_MESSAGE_TYPE() => DHCPACK(),
        );

	$request->addOptionValue(DHO_DHCP_LEASE_TIME, 84600);
	$request->addOptionValue(DHO_DOMAIN_NAME_SERVERS, $dnserver);
	$request->addOptionValue(DHO_SUBNET_MASK(), $subnet_mask);
	$request->addOptionValue(DHO_ROUTERS, $gateway);
	$socket_out->send($request->serialize()) or die $!;
	print STDERR "send ack\n";
}

</pre>
<br /><br />
Ahora revisando el funcionamiento del programa:
<br /><br />
Ejecutamos el servidorcito dhcpd.pl<br />

<pre>
Waiting...Received:
op = BOOTREQUEST
htype = HTYPE_ETHER
hlen = 6
hops = 0
xid = 829e755
secs = 2816
flags = 0
ciaddr = 10.10.10.55
yiaddr = 0.0.0.0
siaddr = 0.0.0.0
giaddr = 0.0.0.0
chaddr = 080027ddbbf1
sname = 
file = 
Options : 
 DHO_DHCP_MESSAGE_TYPE(53) = DHCPRELEASE
 DHO_DHCP_SERVER_IDENTIFIER(54) = 255.255.255.255
 DHO_DHCP_CLIENT_IDENTIFIER(61) = \x01\x08\x00'\xDD\xBB\xF1
padding [41] = 0000000000000000000000000000000000000000000000000000000000000000000000000000000000
Waiting...Received:
op = BOOTREQUEST
htype = HTYPE_ETHER
hlen = 6
hops = 0
xid = f32fb34e
secs = 0
flags = 8000
ciaddr = 0.0.0.0
yiaddr = 0.0.0.0
siaddr = 0.0.0.0
giaddr = 0.0.0.0
chaddr = 080027ddbbf1
sname = 
file = 
Options : 
 DHO_DHCP_MESSAGE_TYPE(53) = DHCPDISCOVER
 DHO_DHCP_CLIENT_IDENTIFIER(61) = \x01\x08\x00'\xDD\xBB\xF1
 DHO_DHCP_REQUESTED_ADDRESS(50) = 10.10.10.55
 DHO_HOST_NAME(12) = IBM620-0
 DHO_VENDOR_CLASS_IDENTIFIER(60) = MSFT 5.0
 DHO_DHCP_PARAMETER_REQUEST_LIST(55) = 1 15 3 6 44 46 47 31 33 121 249 43
padding [7] = 00000000000000
</pre>

<br />
Aca le envio la IP ofrecida, por la MAC en el script se programa una IP.
<br />

<pre>
-------- Envio mi oferta ---------
A 080027ddbbf100000000000000000000 Ofrezco IP: 10.10.10.55 [Servidor: 10.10.10.176:67]
op = BOOTREPLY
htype = HTYPE_ETHER
hlen = 6
hops = 0
xid = f32fb34e
secs = 0
flags = 8000
ciaddr = 0.0.0.0
yiaddr = 10.10.10.55
siaddr = 10.10.10.176
giaddr = 0.0.0.0
chaddr = 080027ddbbf1
sname = 
file = 
Options : 
 DHO_DHCP_MESSAGE_TYPE(53) = DHCPOFFER
 DHO_DHCP_LEASE_TIME(51) = 100
 DHO_DOMAIN_NAME_SERVERS(6) = 8.8.8.8
 DHO_ROUTERS(3) = 10.10.10.1
 DHO_SUBNET_MASK(1) = 255.255.255.255
 DHO_NAME_SERVERS(5) = 10.10.10.176
 DHO_DHCP_LEASE_TIME(51) = 100
padding [0] = 
Waiting...Received:
op = BOOTREQUEST
htype = HTYPE_ETHER
hlen = 6
hops = 0
xid = f32fb34e
secs = 0
flags = 8000
ciaddr = 0.0.0.0
yiaddr = 0.0.0.0
siaddr = 0.0.0.0
giaddr = 0.0.0.0
chaddr = 080027ddbbf1
sname = 
file = 
Options : 
 DHO_DHCP_MESSAGE_TYPE(53) = DHCPREQUEST
 DHO_DHCP_CLIENT_IDENTIFIER(61) = \x01\x08\x00'\xDD\xBB\xF1
 DHO_DHCP_REQUESTED_ADDRESS(50) = 10.10.10.55
 DHO_HOST_NAME(12) = IBM620-0
 DHO_FQDN(81) = \x00\x00\x00IBM620-0
 DHO_VENDOR_CLASS_IDENTIFIER(60) = MSFT 5.0
 DHO_DHCP_PARAMETER_REQUEST_LIST(55) = 1 15 3 6 44 46 47 31 33 121 249 43
padding [0] = 
</pre>

<br />
Aca se le envia un "ACK" para finalizar la transacción.
<br />
<br />
<pre>
-------- Envio ACK ---------
A 080027ddbbf100000000000000000000 ACK de IP: 10.10.10.55 [Servidor: 10.10.10.176:67]
send ack
Waiting...Received:
op = BOOTREQUEST
htype = HTYPE_ETHER
hlen = 6
hops = 0
xid = 1973a052
secs = 0
flags = 8000
ciaddr = 10.10.10.55
yiaddr = 0.0.0.0
siaddr = 0.0.0.0
giaddr = 0.0.0.0
chaddr = 080027ddbbf1
sname = 
file = 
Options : 
 DHO_DHCP_MESSAGE_TYPE(53) = DHCPINFORM
 DHO_DHCP_CLIENT_IDENTIFIER(61) = \x01\x08\x00'\xDD\xBB\xF1
 DHO_HOST_NAME(12) = IBM620-0
 DHO_VENDOR_CLASS_IDENTIFIER(60) = MSFT 5.0
 DHO_DHCP_PARAMETER_REQUEST_LIST(55) = 1 15 3 6 44 46 47 31 33 121 249 43 252
padding [12] = 000000000000000000000000
Waiting...Received:
op = BOOTREQUEST
htype = HTYPE_ETHER
hlen = 6
hops = 0
xid = 1973a052
secs = 768
flags = 8000
ciaddr = 10.10.10.55
yiaddr = 0.0.0.0
siaddr = 0.0.0.0
giaddr = 0.0.0.0
chaddr = 080027ddbbf1
sname = 
file = 
Options : 
 DHO_DHCP_MESSAGE_TYPE(53) = DHCPINFORM
 DHO_DHCP_CLIENT_IDENTIFIER(61) = \x01\x08\x00'\xDD\xBB\xF1
 DHO_HOST_NAME(12) = IBM620-0
 DHO_VENDOR_CLASS_IDENTIFIER(60) = MSFT 5.0
 DHO_DHCP_PARAMETER_REQUEST_LIST(55) = 1 15 3 6 44 46 47 31 33 121 249 43 252
padding [12] = 000000000000000000000000
</pre>
<br />

<a href="https://github.com/walt3rminer/perl/tree/master/dhcpserver" target="_new">Fuente de este post</a><br />


<b>Published: Thursday, December 29, 2016</b>
<a href="tag_security">security</a>&nbsp;<a href="tag_linux">linux</a>&nbsp;<a href="tag_perl">perl</a>&nbsp;
</div>

<hr>
<div id="section">



<form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
<input type="hidden" name="cmd" value="_s-xclick">
<input type="hidden" name="hosted_button_id" value="7HY2N4VFEWYCL">
<input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donate_SM.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
¿ Te sirvió la data ? ¿ Te pareció interesante ? Con tu aporte puedo continuar. <img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1">
</form>

<hr>
<p id="postTitle"><a href="Tirando%20el%20blog%20por%20la%20ventana.html" id="alink">Tirando el blog por la ventana</a></p>

<b>Recalculando</b><br />
Llegó ese momento en el que uno hace click.  Años escribiendo en inglés y porqué ?
Es hora de revisar premisas y sofismas.
<br /><br />
Este año incluyo un ícono para donaciones, también acepto hardware en lo posible
que funcione como notebooks ó dispositivos de almacenamiento.<br /><br />
<b>Bienvenidos.</b>
<br />


<b>Published: Tuesday, December 27, 2016</b>
<a href="tag_security">security</a>&nbsp;<a href="tag_datamining">datamining</a>&nbsp;<a href="tag_apache">apache</a>&nbsp;<a href="tag_linux">linux</a>&nbsp;<a href="tag_privacy">privacy</a>&nbsp;
</div>

<hr>
<div id="section">



<form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
<input type="hidden" name="cmd" value="_s-xclick">
<input type="hidden" name="hosted_button_id" value="7HY2N4VFEWYCL">
<input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donate_SM.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
¿ Te sirvió la data ? ¿ Te pareció interesante ? Con tu aporte puedo continuar. <img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1">
</form>

<hr>
<p id="postTitle"><a href="Analizando%20datos%20abiertos%20de%20peajes%20AUSA%20en%20autopistas.html" id="alink">Analizando datos abiertos de peajes AUSA en autopistas</a></p>

<b>This article is in spanish because the open data obtained is from Argentina</b><br /><br />

Cuando salgo de viaje en auto junto a mi familia opto por diferentes estrategias, siempre
con el propósito de minimizar el tiempo de viaje y maximizar la seguridad. Mi estrategia
es en función de una variable sobre la que tengo un cierto control: el horario de salida.
Durante el viaje, observando el caudal de vehículos comienzo a formularme algunas
preguntas:<br />
<ul>
<li>¿ En qué horario del día habrá mayor caudal de vehículos ?</li>
<li>¿ Si saliese una hora más temprano ó más tarde, habría menos tránsito ?</li>
<li>¿ Cuándo es el peor horario para ir ó regresar de un fin de semana largo ?</li>
</ul>

Los Datos Abiertos utilizados contienen variables numéricas, fecha/hora y 
categóricas.  Estos datos son un registro del flujo vehicular en cada una de cuatro
estaciones de peaje en la Ciudad de Buenos Aires, más adelante describo cuáles son
estas estaciones de peaje.
<br />
<br />
<h1><b>Obteniendo los datos</b></h1>

<a href="http://www.ausa.com.ar/" target="_new">Peajes AUSA</a> 
comparte los datos abiertos en el 
<a href="http://data.buenosaires.gob.ar/" target="_new">Catálogo de datos abiertos de 
Gobierno de la Ciudad de Buenos Aires</a>.  Los datos utilizados en
este post pueden ser obtenidos con estas instrucciones de unix:
<br />
<pre>
wget https://recursos-data.buenosaires.gob.ar/ckan2/autopistas/ausapasovehiculo-2013.csv
wget https://recursos-data.buenosaires.gob.ar/ckan2/autopistas/ausapasovehiculo-2015.csv
</pre>

Los registros publicados como datos abiertos son
estadísticas aproximadas de estas cuatro estaciones de peaje:<br /><br />
<ul>
<li>ALB Alberti (AU1 - 25 de Mayo) Alberti</li>
<li>AVE Parque Avellaneda (AU6 - Perito Moreno)</li>
<li>DEL De Au. Dellepiane (AU1 - 25 de Mayo)</li>
<li>ILL Retiro (AU Pte. Arturo Illia)</li>
</ul>
<br /><br />

A partir del año 2014 encontré que en los datos hay
ocho estaciones de peaje en lugar de cuatro.  Sospecho que a cada una de las cuatro estaciones de peaje
la acompaña una etiqueta adicional, aunque desconozco aún el motivo de estas
cuatro estaciones adicionales, que son:<br />

<ul>
<li>SAR Alberti (AU1 - 25 de Mayo) Sarandi</li>
<li>SAL Parque Avellaneda (AU6 - Perito Moreno)</li>
<li>DEC De Au. Dellepiane (AU1 - 25 de Mayo)</li>
<li>RET Retiro (AU Pte. Arturo Illia)</li>
</ul>
<br /><br />

<h1>Preparando los datos</h1>
Comencé analizando datos del año 2013.
Primero transformé la fecha en un formato manejable.  Código para leer el conjunto de datos:
<pre>
ausa <- read.csv(file="ausapasovehiculo-2013.csv", sep=";")
ausa$FECHA2 <- as.Date(ausa$FECHA, format = "%m/%d/%Y");
ausa$MES <- format(ausa$FECHA2, "%m");
ausa$HORA <- as.character(ausa$HORA)
ausa$HORA1 <- as.numeric(gsub("^([0-9]*):.*", "\\1", ausa$HORA, perl=TRUE))
ausa$FECHA_HORA1 <- strptime(paste(ausa$FECHA, ausa$HORA), format="%m/%d/%Y %H:%M:%S")
ausa$FECHA_HORA2 <- strptime(paste(ausa$FECHA, ausa$HORA_FIN), format="%m/%d/%Y %H:%M:%S")
</pre>
<br /><br />

Utilizando los datos del año 2013, se preparó un gráfico de linea
con el caudal de vehículos por mes para cada una de las
cuatro estaciones de peaje. (Figura #1):<br />
<center>
<img src="images/pormes1.png" width=600 height=400/>
<br />
Figura #1
</center>
<br />

<u>Particularidades de los datos</u>
<br />
Para el mes Mayo y Junio de 2013 no hay datos (una pena porque aquí tienen lugar unos
feriados muy interesantes).<br />
El caudal de vehículos de los meses
de vacaciones (de Enero a Abril) tiene valores inusuales: más adelante 
analizando los datos del 2015 no se observa esta gran
diferencia en el caudal de vehículos respecto al resto del año.<br />
<br />
<br />
Código para crear la figura #1:
<pre>
old.par <- par(mfrow=c(2,2))
options(scipen=5)
las_estaciones <- c("DEL","ILL","ALB","AVE");
fecha1 = "2013-01-01";
fecha2 = "2014-01-01";
for (laestacion in las_estaciones) {
	subpt <- ausa[ ausa$ESTACION == laestacion, ]
	pp <- aggregate(cbind(subpt$CANTIDAD_PASOS) , by=list(FECHA=subpt$MES), FUN=sum, na.rm=TRUE)
	tlab = pp$FECHA;
	maxy = max(pp$V1)
	miny = min(pp$V1)
	lab <- format(tlab,format="%b-%Y")
	plot(V1 ~ FECHA, pp, main=laestacion, ylim=c(0,maxy), xaxt = "n", ylab="autos", xlab="mes", type = "l", axes=FALSE)
	axis(1, at=tlab, labels=FALSE)
	axis(2, las=2, cex.axis=.7)
	text(x=tlab, y=par()$usr[3]-0.06*(par()$usr[4]),labels=lab, srt=90, adj=1, xpd=TRUE, cex=.7)
}
</pre>
<br />
<br />

<h1>¿ A qué hora salir un fin de semana largo ?</h1><br />
Sabiendo cuándo hubo un feriado, es posible estudiar el caudal de vehículos antes, durante y
después.  Un científico de datos puede utilizar sus
herramientas para ganar tiempo y lo más importante: salud.<br /><br />

Aquí una lista de <a href="http://servicios.lanacion.com.ar/feriados/2013" target="_new">feriados argentinos</a><br />

<b>Un fin de semana largo, a mitad de año:</b>
<br />
Lunes 14 de Octubre de 2013 - Día del Respeto a la Diversidad Cultural: la mayoría saldría el viernes 11.<br />
<br />
<br />
<u><b>Analizando tránsito de días previos y posteriores al feriado del lunes 14 de Octubre de 2013</b></u><br /><br />
En este gráfico se observa la cantidad de vehículos que circulan los días previos,
durante y posterior al feriado del 14 de Octubre de 2013.  Cada gráfico es un día, en el eje
X están las 24 horas de cada día y el eje Y es la 
cantidad de vehículos total que pasaron por todas las estaciones de peaje de AUSA en la Ciudad de Buenos Aires.
<br />
<br />
<center><img src="images/porhoraf1a.png" width=800 height=350 /><br />Figura #2</center>
<br />
<b>LA IDA:</b> El feriado fue el día Lunes 14 de Octubre, es razonable asumir que 
para aprovechar el fin de semana la
mayoría partiríamos de viaje el viernes 11 de Octubre. Observar la figura #2 (Día 11 de Octubre). 
No está facil la decisión, prácticamente todo el día desde las 8 de la mañana hasta las 19 hay
un caudál sostenido de vehículos.  <u>Una opción podría ser salir el mismo 
<b>viernes 11 de Octubre</b> a la madrugada ó esperar
a la noche, después de las 22</u>
ya que el caudal de vehículos desciende alcanzando un mínimo a las 4 de la 
madrugada del día siguiente: Sábado 12 de Octubre de 2013.<br /><br />


<center><img src="images/porhoraf1b.png" width=800 height=200 /><br />Figura #3</center>
<br />
<b>EL RETORNO:</b> Asumiendo que la mayoría retomamos nuestras labores diarias
el día martes 15 de Octubre por la mañana, observar la figura #3 día 14 de Octubre.  
Aquí el mayor caudal de autos es entre las 12 y las 21 horas
del día feriado, los máximos de caudal a las 13 horas, y entre las 18 y 22 horas.  
<b><u>Evitaría emprender el regreso a casa cerca del mediodía ó por la tarde</u></b>. Una estrategia
que me ha dado resultado es salir por la mañana cerca de las 9 ó regresar a última hora 
después de las 22, se viaja de noche pero se ahorra tiempo y stress.
<br />
<br />
Código para crear la Figura #2 y #3:
<pre>
las_fechas <- c("2013-10-10", "2013-10-11", "2013-10-12", "2013-10-13", "2013-10-14", "2013-10-15")
coco <- aggregate(x=ausa$CANTIDAD_PASOS, by=list(ausa$FECHA2, ausa$HORA1), FUN=sum)
subpp <- xtabs(coco$x ~ coco$Group.2 + coco$Group.1)
subpp1 <- subpp[, las_fechas]
maxy = max(subpp1)
miny = min(subpp1)
tmin <- min(ausa$HORA1)
tmax <- max(ausa$HORA1)
tlab <- seq(tmin, tmax)
lab <- format(tlab,format="%H:%M:%S")
old.par <- par(mfrow=c(3, 2))
for (item in seq(1, length(las_fechas))) {
	maxy = max(subpp1[,item])
	miny = min(subpp1[,item])
	plot(subpp1[, c(las_fechas[item])], main=las_fechas[item], ylim=c(miny, maxy), xlim=c(tmin,tmax), xlab="hora", ylab="autos", xaxt = "n", type = "l", axes=FALSE)
	par(new=TRUE)
	axis(1, at=tlab, labels=FALSE)
	axis(2, las=2, cex.axis=.7)
	text(x=tlab, y=par()$usr[3]-.14*(par()$usr[4]),labels=lab, adj=1, xpd=TRUE, cex=.7)
}
</pre>
<br />
<hr>
<br />
<b>Datos más recientes, analizando el año 2015</b>
<br />
<br />
<h1>Preparando los datos</h1>
<br />
<pre>
ausa <- read.csv(file="ausapasovehiculo-2015.csv", sep=";")
ausa$FECHA2 <- as.Date(ausa$FECHA, format = "%d/%m/%Y");
ausa$MES <- format(ausa$FECHA2, "%m");
ausa$HORA <- as.character(ausa$HORA)
ausa$HORA1 <- as.numeric(gsub("^([0-9]*):.*", "\\1", ausa$HORA, perl=TRUE))
ausa$FECHA_HORA1 <- strptime(paste(ausa$FECHA, ausa$HORA), format="%d/%m/%Y %H:%M:%S")
ausa$FECHA_HORA2 <- strptime(paste(ausa$FECHA, ausa$HORA_FIN), format="%d/%m/%Y %H:%M:%S")
</pre>
<br />

Se preparó un gráfico de linea con el 
caudal de vehículos por mes para cada una de las cuatro estaciones de peaje.
Comparando con el análisis de los datos del año 2013, estos números no tienen una
marcada diferencia de flujo vehicular entre Enero a Marzo y el resto del año.
También es 
interesante que en este set de datos no faltan valores para ningún mes.<br /><br />
<center>
<img src="images/pormes2.png" width=600 height=400/><br />Figura #4</center>
<br />
Quisiera repetir el análisis de a qué hora hay mayor caudal de vehículos en la ida y
en el retorno de un feriado largo.
<br />
<br />
<u>Feriado de interés del año 2015:</u><br />
Agosto, Lunes 17 - Paso a la Inmortalidad del General José de San Martín.<br />
<br />
<br />
<u><b>Analizando tránsito del Lunes 17 de Agosto de 2015</b></u><br /><br />
En las figuras #5 y #6 se observa la cantidad de vehículos que circulan los días anteriores,
durante y posterior al feriado del Lunes 17 de Agosto de 2015.
<br />
<br />
<b>LA IDA:</b> El feriado en cuestión fue el día Lunes 17 de Agosto.  Se asume
que la mayoría trabajamos de lunes a viernes y se sale de viaje el
viernes 14 de Agosto para aprovechar lo más posible el fin de semana.
<br />
<h1>¿ A qué hora conviene salir para ganar tiempo ?</h1>
<br /><br />
<center><img src="images/porhoraf2a.png" width=800 height=250 /><br />Figura #5</center><br />
<br />

Observando la figura #5, día 14 de agosto: Una opción es salir
a la madrugada (entre las 4 y 5 de la mañana).  También se puede salir a la tarde, 
después de las 19, ya que el caudal de vehículos desciende alcanzando un mínimo a las 4 de la 
madrugada del día sábado 15 de Agosto de 2015.<br /><br />
<br />
<b>EL RETORNO:</b>&nbsp;Regresaría de este feriado largo el lunes 17 de agosto ó un día antes, 
el domingo 16 de agosto.  Alguno querría aprovechar lo más posible y regresar el martes 18 de agosto.
De optar por regresar un día antes al feriado (el 16 de agosto), <b>sería entre las 14 y 18 horas cuando
los datos indican un menor caudal vehicular</b>.<br /> Si regreso el lunes 17 de agosto, sería
<b>por la mañana, antes del mediodía</b>.
<br />
<br />

<center><img src="images/porhoraf2b.png" width=800 height=400 /><br />Figura #6</center><br />

El día martes 18 de Agosto el caudal de vehículos regresa a su comportamiento normal con
mayor caudal vehicular cuando la gente va y regresa de sus trabajos.<br /><br />
<br />
<pre>
las_fechas <- c("2015-08-13", "2015-08-14", "2015-08-15", "2015-08-16", "2015-08-17", "2015-08-18")
coco <- aggregate(x=ausa$CANTIDAD_PASOS, by=list(ausa$FECHA2, ausa$HORA1), FUN=sum)
subpp <- xtabs(coco$x ~ coco$Group.2 + coco$Group.1)
subpp1 <- subpp[, las_fechas]
maxy = max(subpp1)
miny = min(subpp1)
tmin <- min(ausa$HORA1)
tmax <- max(ausa$HORA1)
tlab <- seq(tmin, tmax)
lab <- format(tlab,format="%H:%M:%S")

old.par <- par(mfrow=c(3, 2))
for (item in seq(1, length(las_fechas))) {
maxy = max(subpp1[,item])
miny = min(subpp1[,item])
plot(subpp1[, c(las_fechas[item])], main=las_fechas[item], ylim=c(miny, maxy), xlim=c(tmin,tmax), xlab="hora", ylab="autos", xaxt = "n", type = "l", axes=FALSE)
par(new=TRUE)
axis(1, at=tlab, labels=FALSE)
axis(2, las=2, cex.axis=.7)
text(x=tlab, y=par()$usr[3]-.14*(par()$usr[4]),labels=lab, adj=1, xpd=TRUE, cex=.8)
}

</pre>
<br />


<b>Published: Thursday, December 15, 2016</b>
<a href="tag_datamining">datamining</a>&nbsp;
</div>

<hr>
<div id="section">



<form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
<input type="hidden" name="cmd" value="_s-xclick">
<input type="hidden" name="hosted_button_id" value="7HY2N4VFEWYCL">
<input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donate_SM.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
¿ Te sirvió la data ? ¿ Te pareció interesante ? Con tu aporte puedo continuar. <img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1">
</form>

<hr>
<p id="postTitle"><a href="Compile%20keepass%202.0.3%20on%20Linux.html" id="alink">Compile keepass 2.0.3 on Linux</a></p>

KeepassX is a graphical password management system, the webpage is <a href="https://www.keepassx.org/" target="_new">www.keepassx.org</a>
<br />
KeepassX webpage states: "KeePassX is an application for people with extremly high demands on secure personal data management. It has a light interface, is cross platform and published under the terms of the GNU General Public License."<br /><br />
These steps have been executed on a Debian 
Linux 8.6.0 but for an experienced System 
Administrator/Hacker this should be trivial.<br /><br />
You can look at older related posts:<br />
<ul>
<li><a href="Compile%20keepass%200.4.3%20on%20Debian%20Linux%20wheezy.html">how to install KeepassX 0.4.3</a></li>
<li><a href="http://www.wallves.com/blog/Compile%20keepass%202.0.2%20on%20Debian%20Linux%20Jeesie.html">how to install KeepassX 2.0.2</a></li>
</ul><br />

First you should have these packages installed:<br />
<pre>
apt-get install cmake g++ libqt4-core libqt4-dev libgcrypt-dev zlib1g zlib1g-dev

</pre>
<br />
Now you can download the latest keepassX package and compile it:<br />
<pre>
wget https://www.keepassx.org/releases/2.0.3/keepassx-2.0.3.tar.gz
tar zxvf keepassx-2.0.3.tar.gz
cd keepassx-2.0.3/
mkdir build
cd build
cmake -DCMAKE_INSTALL_PREFIX=/usr/local ..
</pre>
<br />As root:<br />
<pre>
make install
</pre>
<br />

Now you could for example, add the access on a fluxbox window manager:


<br />
It works.<br />
<img src="images/keepass3.png" />
<br />
 
<b>Published: Friday, December 09, 2016</b>
<a href="tag_admin">admin</a>&nbsp;<a href="tag_security">security</a>&nbsp;
</div>

<hr>
<div id="section">



<form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
<input type="hidden" name="cmd" value="_s-xclick">
<input type="hidden" name="hosted_button_id" value="7HY2N4VFEWYCL">
<input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donate_SM.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
¿ Te sirvió la data ? ¿ Te pareció interesante ? Con tu aporte puedo continuar. <img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1">
</form>

<hr>
<p id="postTitle"><a href="Check%20the%20battery%20power%20from%20command%20line%20on%20linux.html" id="alink">Check the battery power from command line on linux</a></p>

If you want to check from a script the state from the battery on the linux operating
system, it is as easy as looking this file:
<br /><br />
<pre>
cat /sys/class/power_supply/BAT0/capacity_level
Normal
</pre>

<br />
And this file gives the percentage of charge, in this example 97%:
<br /><br />
<pre>
cat /sys/class/power_supply/BAT0/capacity
97
</pre>

<br />


 
<b>Published: Friday, December 09, 2016</b>
<a href="tag_admin">admin</a>&nbsp;
</div>

<hr>
<div id="section">



<form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
<input type="hidden" name="cmd" value="_s-xclick">
<input type="hidden" name="hosted_button_id" value="7HY2N4VFEWYCL">
<input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donate_SM.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
¿ Te sirvió la data ? ¿ Te pareció interesante ? Con tu aporte puedo continuar. <img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1">
</form>

<hr>
<p id="postTitle"><a href="Check%20the%20battery%20power%20from%20command%20line%20on%20linux.html" id="alink">Check the battery power from command line on linux</a></p>

<br />
<pre>
fallocate -l 4G diskimagefile.img
</pre>
<br /><br />


<pre>
cryptsetup -y -v luksFormat diskimagefile.img

WARNING!
========
This will overwrite data on diskimagefile.img irrevocably.

Are you sure? (Type uppercase yes): YES
Enter passphrase: 
Verify passphrase: 
Command successful.
</pre>
<br /><br />

Mount the virtual device that manages:
<pre>
cryptsetup luksOpen diskimagefile.img backup1
</pre>

<br /><br />

If you have not done it yet, and it is a new disk, you can give the
disk a format:
<br />
<pre>
mkfs.ext3 /dev/mapper/backup1
</pre>

Mount:
<pre>
mount /dev/mapper/backup1 /mnt/secure
</pre>

Modify the password:
<pre>
sudo cryptsetup luksChangeKey diskimagefile.img
Enter passphrase to be changed: 
Enter new passphrase: 
Verify passphrase: 
</pre>

Unmount and close the secure disk:<br />
<pre>
umount /mnt/secure
cryptsetup luksClose backup1
</pre>


 
<b>Published: Friday, December 09, 2016</b>
<a href="tag_admin">admin</a>&nbsp;
</div>

<hr>
<div id="section">



<form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
<input type="hidden" name="cmd" value="_s-xclick">
<input type="hidden" name="hosted_button_id" value="7HY2N4VFEWYCL">
<input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donate_SM.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
¿ Te sirvió la data ? ¿ Te pareció interesante ? Con tu aporte puedo continuar. <img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1">
</form>

<hr>
<p id="postTitle"><a href="An%20additional%20LCD%20notebook%20monitor.html" id="alink">An additional LCD notebook monitor</a></p>

Once i had a notebook, it was red, lenovo, z80... rest in peace.  One day, after using
it helping at <a href="http://serfiscal.org/">an ONG Called Ser Fiscal</a> it started
with problems...  at that ONG i was helping with the independant control of the elections
documenting fraud and gave some technical assitance.  Some voluntary work.<br />
But after that point in time, something very bad started to happen with that notebook and
finally it never started again.  Of course i went to Lenovo here in Argentina, i do not know
now, i suppose it is not much different, but the official technical service told me that the
notebook was a rare model and they may not have the parts, in that case i would not have my
money back anyway... (yes, lets cry together with a cold beer).<br /><br />
Whathever, i wanted to recover something from the notebook, i could reuse the hard disk, i can
sell the memory, and i wanted to reuse the monitor (if possible).<br /><br />
<br />
<b>Step 1: Obtain the monitor code</b><br />
<br />
You will have to open the notebook, it is supposed to be broken anyway.  Be carefull,
you should extract the monitor, and take some pictures from the back.  Write down the numbers,
the seller will likelly ask you for them to confirm if he has the circuit for it.  If you
do not feel secure, ask a friend who may have more experience doing that.<br />
<img src="images/lcd1.jpg" width=300 height=300 />&nbsp;
<img src="images/lcd2.jpg" width=300 height=300 />&nbsp;
<img src="images/lcd3.jpg" width=300 height=300 /><br />
<br />
Save the pictures, the selled will likelly ask you for them.<br /><br />


<b>Step 2: Look for a selled of the circuit</b><br />
I obtained it at ebay, the article at that time looked like this:<br />
<img src="images/ebay1.png" width=300 height=250 /><br /><br />
I bought it from a selled called <a href="http://www.ebay.com/usr/xiongchun2013?_trksid=p2047675.l2559">xionchung2013</a><br />
This may sound like publicity, honestly i am just happy because i got the article and i had good
luck that it worked.  But you wouldn't believe the troubles i had.  In Argentina we had a not so nice
government from 2010 to 2015 and the possibility to import things, even they are not done here was arbitrary:
only people with friends in the government could do that, and you can imagine that somebody like me is
not the profile of somebody that makes friends with politicians.  Resuming, the selled sent the product and
it never arrived, luckyly it was returned to him, i had to pay him again for the delivery, and the
second time i contacted the postal office and followed like a crazy the package.<br /> Yes, lets
cry together again with a cold beer in a bar.<br /><br />

<b>Step 3: Connect it and use it!</b><br />
I have to post some pictures about how it looks like.  It is great!<br />
<br />

<b>Step 4: Enabling the secondary monitor in linux</b><br />
I have this script to enable the monitor in the office or at home:<br />

<pre>
walter@arsat:~$ cat monitors.sh 
#!/bin/bash

if [[ "$1" == "office" ]]; then
	xrandr --auto --output eDP1 --mode 1360x768 --left-of VGA1
else
# CASA
	echo "En casa";
	xrandr --auto --output VGA1 --mode 1920x1200 --left-of eDP1
fi;

</pre>
<br />


 
<b>Published: Friday, December 09, 2016</b>
<a href="tag_admin">admin</a>&nbsp;
</div>

<hr>
<div id="section">



<form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
<input type="hidden" name="cmd" value="_s-xclick">
<input type="hidden" name="hosted_button_id" value="7HY2N4VFEWYCL">
<input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donate_SM.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
¿ Te sirvió la data ? ¿ Te pareció interesante ? Con tu aporte puedo continuar. <img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1">
</form>

<hr>
<p id="postTitle"><a href="Installing%20tor%20on%20linux.html" id="alink">Installing tor on linux</a></p>

Obtain the download link from the <a href="https://www.torproject.org/download/download.html.en">
tor project page</a><br />You can get the compiled version but i recall you
that this is the Server Linux blog and we preffer to build things from scratch:<br />
<pre>
apt-get install libevent-dev

wget https://www.torproject.org/dist/tor-0.2.8.8.tar.gz
tar zxvf tor-0.2.8.8.tar.gz
cd tor-0.2.8.8/

./configure
make
src/or/tor

mkdir /usr/local/etc/tor/
cp src/or/config/torrc /usr/local/etc/tor/
</pre>


<b>Published: Friday, September 30, 2016</b>
<a href="tag_security">security</a>&nbsp;<a href="tag_privacy">privacy</a>&nbsp;
</div>

<hr>
<div id="section">



<form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
<input type="hidden" name="cmd" value="_s-xclick">
<input type="hidden" name="hosted_button_id" value="7HY2N4VFEWYCL">
<input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donate_SM.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
¿ Te sirvió la data ? ¿ Te pareció interesante ? Con tu aporte puedo continuar. <img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1">
</form>

<hr>
<p id="postTitle"><a href="Unziping%20large%20files%20in%20linux%20copied%20from%20windows.html" id="alink">Unziping large files in linux copied from windows</a></p>

In Windows 7 i created a large ZIP file (around 15 Gigas). I wanted to
move it to a linux machine and unzip it there.  But once in the linux 
machine, it produced this error:

<pre>
unzip Windows\ 7\ Clone.zip                          
Archive:  Windows 7 Clone.zip
warning [Windows 7 Clone.zip]:  15415149290 extra bytes at beginning or within zipfile
  (attempting to process anyway)
error [Windows 7 Clone.zip]:  start of central directory not found;
  zipfile corrupt.
  (please check that you have transferred or created the zipfile in the
  appropriate BINARY mode and that you have compiled UnZip properly)
</pre>
After trying some things i resolved it like this:<br />
<pre>
7za x Windows\ 7\ Clone.zip
7-Zip (A) [64] 9.20  Copyright (c) 1999-2010 Igor Pavlov  2010-11-18
p7zip Version 9.20 (locale=en_US.UTF-8,Utf16=on,HugeFiles=on,4 CPUs)
Processing archive: Windows 7 Clone.zip
Extracting  Windows 7 Clone/Windows 7 Clone.vbox
</pre>

<div style="clear: both;"></div>
<b>Published: Thursday, August 25, 2016</b>
<a href="tag_admin">admin</a>&nbsp;
</div>

<hr>
<div id="section">



<form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
<input type="hidden" name="cmd" value="_s-xclick">
<input type="hidden" name="hosted_button_id" value="7HY2N4VFEWYCL">
<input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donate_SM.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
¿ Te sirvió la data ? ¿ Te pareció interesante ? Con tu aporte puedo continuar. <img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1">
</form>

<hr>
<p id="postTitle"><a href="Installing%20latex%20with%20some%20usefull%20complements%20in%20Debian%20Linux.html" id="alink">Installing latex with some usefull complements in Debian Linux</a></p>
<pre>
apt-get install texlive texlive-math-extra texlive-science
</pre>
# Provides program.sty: <br />
<pre>
apt-get install texlive-latex-extra
</pre>

<div style="clear: both;"></div>
<b>Published: Thursday, August 25, 2016</b>
<a href="tag_debian">debian</a>&nbsp;
</div>

<hr>
<div id="section">



<form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
<input type="hidden" name="cmd" value="_s-xclick">
<input type="hidden" name="hosted_button_id" value="7HY2N4VFEWYCL">
<input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donate_SM.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
¿ Te sirvió la data ? ¿ Te pareció interesante ? Con tu aporte puedo continuar. <img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1">
</form>

<hr>
<p id="postTitle"><a href="Installing%20Apache%20from%20scratch.html" id="alink">Installing Apache from scratch</a></p>

<u>1) A required library:</u><br />
<pre>
apt-get install libpcre++-dev
</pre>
<br />
<u>2) Obtain the sources:</u><br />
<pre>
wget "http://apache.dattatec.com//httpd/httpd-2.4.18.tar.bz2"
tar jxvf httpd-2.4.18.tar.bz2
wget "http://mirrors.nxnethosting.com/apache//apr/apr-1.5.2.tar.gz"
wget http://apache.dattatec.com//apr/apr-util-1.5.4.tar.gz

cd httpd-2.4.18/srclib
tar zxvf ../../apr-1.5.2.tar.gz
tar zxvf ../../apr-util-1.5.4.tar.gz
ln -s apr-1.5.2/ apr
ln -s apr-util-1.5.4/ apr-util
cd ..

./configure --enable-ssl \
--prefix=/usr/local/apache2/ \
--enable-so --with-included-apr \
--enable-rewrite --enable-rewrite --enable-proxy --enable-cgi

make
</pre>
<div style="clear: both;"></div>
<b>Published: Thursday, August 25, 2016</b>
<a href="tag_admin">admin</a>&nbsp;<a href="tag_apache">apache</a>&nbsp;
</div>

<hr>
<div id="section">



<form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
<input type="hidden" name="cmd" value="_s-xclick">
<input type="hidden" name="hosted_button_id" value="7HY2N4VFEWYCL">
<input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donate_SM.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
¿ Te sirvió la data ? ¿ Te pareció interesante ? Con tu aporte puedo continuar. <img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1">
</form>

<hr>
<p id="postTitle"><a href="Headless%20Linux%20Server%20with%20X%20Fluxbox%20and%20Lightdm.html" id="alink">Headless Linux Server with X Fluxbox and Lightdm</a></p>

Hi, here is a very short list telling about how you can have
very easily a server withoug a monitor connected and manage it
with just few resources... a short post but without waste!<br /><br />

<b>Install headless lightdm with fluxbox and vnc</b><br />
<pre>
apt-get install lightdm
apt-get install fluxbox
apt-get install x11vnc
apt-get install xvfb
apt-get remove xserver-xorg-video*
</pre>

Now, you setup the SSH Server and connect creating a tunnel.<br /><br />

Once connected, in the Headless Server you type:
<br /><br />
<pre>
x11vnc -localhost -create -env FD_PROG=/usr/bin/fluxbox \
        -env X11VNC_FINDDISPLAY_ALWAYS_FAILS=1 \
        -env X11VNC_CREATE_GEOM=${1:-1024x768x16} \
        -gone 'killall Xvfb' \
        -bg -nopw
</pre>
<br />
And once the vnc server starts, you connect from your client through
a tunnel.<br /><br />
<pre>
vncviewer localhost:5900
</pre>

These steps have worked in Debian 8.0 Jessie.
<br />
 
<b>Published: Tuesday, February 23, 2016</b>
<a href="tag_headless">headless</a>&nbsp;<a href="tag_fluxbox">fluxbox</a>&nbsp;<a href="tag_lightdm">lightdm</a>&nbsp;
</div>

<hr>
<div id="section">



<form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
<input type="hidden" name="cmd" value="_s-xclick">
<input type="hidden" name="hosted_button_id" value="7HY2N4VFEWYCL">
<input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donate_SM.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
¿ Te sirvió la data ? ¿ Te pareció interesante ? Con tu aporte puedo continuar. <img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1">
</form>

<hr>
<p id="postTitle"><a href="Installing%20Matlab%20R2013%208.01%20on%20Linux%20Headless%20Xvfb%20using%20lightdm%20and%20fluxbox.html" id="alink">Installing Matlab R2013 8.01 on Linux Headless Xvfb using lightdm and fluxbox</a></p>

Good, you are a Matlab user like me, but.. why are you willing to install it on a 
headless linux workstation ?  I thought i was the only person in the world doing that
but you reading this proves i am not alone...<br /><br />

<u>1) Well you mounted the iso image:</u><br />
<pre>
mount -o loop Matlab801_MacUnix.iso /mnt/cd
</pre>
<br />

<u>2) And tried to install but.... you are getting this</u><br />
<pre>
java.lang.InternalError: Can't connect to X11 window server using ':20.0' as the value of the DISPLAY variable.
        at sun.awt.X11GraphicsEnvironment.initDisplay(Native Method)
        at sun.awt.X11GraphicsEnvironment.access$100(Unknown Source)
        at sun.awt.X11GraphicsEnvironment$1.run(Unknown Source)
        at java.security.AccessController.doPrivileged(Native Method)
        at sun.awt.X11GraphicsEnvironment.(Unknown Source)
        at java.lang.Class.forName0(Native Method)
        at java.lang.Class.forName(Unknown Source)
</pre>
<br />
<u>3) OPS! this should not be difficult you think...</u><br />
<pre>
#Try this...
install_linux -mode silent
#And this... 
install_linux -javahome /opt/java -mode silent
#And your DISPLAY variable is logically correct! because ...
printenv | grep DISPLAY
DISPLAY=:20.0
</pre>

The error message keeps displaying:<br />
<pre>
Error: The application encountered an unexpected error and needs to close.  You may want to try re-installing your product(s).  More information can be found at /tmp/mathworks_root.log
</pre>
<br />
And you are able to run any other X application, starting from xclock... but the Matlab install do not wants to start.<br />
Do not worry, it is not all lost.<br />
First, you will have to modify the install_linux shell script, but the image is readonly, so you will have to do a trick:
<br />
<u>4) First create a directory</u><br />
<pre>
mkdir /mnt/tmpcd
cd /mnt/tmpcd
</pre>
<br />
<u>5)  Copy there the install_linux script</u><br />
<pre>
cp /mnt/cd install_linux /mnt/tmpcd
</pre>

<u>6) Modify this line:</u><br />
<pre>
java_cmd="$java_exe -Xmx512m $XTRAFLAGS -Djava.ext.dirs=$JAR_SEARCH_PATH $JAVA_LAUNCH_TARGET -root \"$ROOT\" -tmpdir \"$TEMP_DIR\" -inputFile '$ROOT/install_ini_linux.txt' $arglist"
#
#And add this: "-Djava.awt.headless=true" It should look like this:
#
java_cmd="$java_exe -Xmx512m $XTRAFLAGS -Djava.awt.headless=true -Djava.ext.dirs=$JAR_SEARCH_PATH $JAVA_LAUNCH_TARGET -root \"$ROOT\" -tmpdir \"$TEMP_DIR\" -inputFile '$ROOT/install_ini_linux.txt' $arglist"
</pre><br />
<u>7) Now create a link to all the other files, i did it like this</u><br />
<pre>
# Being in /mnt/tmpcd
for i in /mnt/cd/*; do ln -s $i; done
</pre>
<br />
<u>8) Now you are ready! install it.</u><br />
<pre>
(Feb 23, 2016 15:36:37) Installing Product: Simulink Report Generator 3.14
(Feb 23, 2016 15:36:38) Installing Product: Simulink Verification and Validation 3.5
(Feb 23, 2016 15:36:38) Installing Product: Stateflow 8.1
(Feb 23, 2016 15:36:39) Installing Product: Statistics Toolbox 8.2
(Feb 23, 2016 15:36:40) Installing Product: Symbolic Math Toolbox 5.10
(Feb 23, 2016 15:36:57) Installing Product: System Identification Toolbox 8.2
(Feb 23, 2016 15:37:06) Installing Product: SystemTest 2.6.5
(Feb 23, 2016 15:37:09) Installing Product: Wavelet Toolbox 4.11
(Feb 23, 2016 15:37:26) Notes:
Your installation may require additional configuration steps.

1. The following products require a supported compiler:

MATLAB Compiler 4.18.1
MATLAB Builder JA 2.2.6
Stateflow 8.1
Simulink Coder 8.4
MATLAB Coder 2.4

2. Simulink requires a C compiler for simulation acceleration, model reference, and MATLAB Function Block capabilities. It is recommended that you install a supported compiler on your machine.

3. To accelerate computations with the following products, a supported compiler is required:

SimBiology 4.3
Fixed-Point Designer 4.0
(Feb 23, 2016 15:37:26) Exiting with status 0
(Feb 23, 2016 15:37:26) End - Successful.
Finished
</pre>




 
<b>Published: Tuesday, February 23, 2016</b>
<a href="tag_headless">headless</a>&nbsp;<a href="tag_lightdm">lightdm</a>&nbsp;<a href="tag_fluxbox">fluxbox</a>&nbsp;
</div>

<hr>
<div id="section">



<form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
<input type="hidden" name="cmd" value="_s-xclick">
<input type="hidden" name="hosted_button_id" value="7HY2N4VFEWYCL">
<input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donate_SM.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
¿ Te sirvió la data ? ¿ Te pareció interesante ? Con tu aporte puedo continuar. <img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1">
</form>

<hr>
<p id="postTitle"><a href="Compile%20keepass%202.0.2%20on%20Debian%20Linux%20Jeesie.html" id="alink">Compile keepass 2.0.2 on Debian Linux Jeesie</a></p>

KeepassX webpage states: "KeePassX is an application for people with extremly high demands on secure personal data management. It has a light interface, is cross platform and published under the terms of the GNU General Public License."<br /><br />
These steps have been executed in Debian Linux 8.2.0 Jeesie but for an experienced System Administrator/Hacker this should be trivial.<br /><br />
Some time ago i explained 
<a href="Compile%20keepass%200.4.3%20on%20Debian%20Linux%20wheezy.html">how to install KeepassX 0.4.3</a>
but a newer version is available and i wanted to have it.<br /><br />

First you should have these packages installed:<br />
<pre>
apt-get install cmake
apt-get install g++
apt-get install libqt4-core
apt-get install libqt4-dev
apt-get install libgcrypt-dev
apt-get install zlib1g zlib1g-dev
</pre>
<br />
Now you can download the latest keepassX package and compile it:<br />
<pre>
wget https://www.keepassx.org/releases/2.0.2/keepassx-2.0.2.tar.gz
tar zxvf keepassx-2.0.2.tar.gz
cd keepassx-2.0.2
mkdir build
cd build
cmake -DCMAKE_INSTALL_PREFIX=/usr/local ..
</pre>
<br />As root:<br />
<pre>
make install
</pre>
<br />
 
<b>Published: Saturday, February 20, 2016</b>
<a href="tag_admin">admin</a>&nbsp;<a href="tag_security">security</a>&nbsp;
</div>

<hr>
<div id="section">



<form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
<input type="hidden" name="cmd" value="_s-xclick">
<input type="hidden" name="hosted_button_id" value="7HY2N4VFEWYCL">
<input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donate_SM.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
¿ Te sirvió la data ? ¿ Te pareció interesante ? Con tu aporte puedo continuar. <img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1">
</form>

<hr>
<p id="postTitle"><a href="Install%20Libreoffice%20on%20Debian.html" id="alink">Install Libreoffice on Debian</a></p>

Go to <a href="http://www.libreoffice.org/" target="_new">Libreoffice Webpage</a> and download
the libreoffice package, in my case it was:<br />
<pre>
wget http://download.documentfoundation.org/libreoffice/stable/4.4.7/deb/x86_64/LibreOffice_4.4.7_Linux_x86-64_deb.tar.gz
tar zxvf LibreOffice_4.4.7_Linux_x86-64_deb.tar.gz
cd LibreOffice_4.4.7.2_Linux_x86-64_deb/
cd DEBS
dpkg -i *.deb

---- START OUTPUT ----
Selecting previously unselected package libobasis4.4-base.
(Reading database ... 155812 files and directories currently installed.)
Preparing to unpack libobasis4.4-base_4.4.7.2-2_amd64.deb ...
Unpacking libobasis4.4-base (4.4.7.2-2) ...
Selecting previously unselected package libobasis4.4-calc.
Preparing to unpack libobasis4.4-calc_4.4.7.2-2_amd64.deb ...
Unpacking libobasis4.4-calc (4.4.7.2-2) ...
Selecting previously unselected package libobasis4.4-core.
Preparing to unpack libobasis4.4-core_4.4.7.2-2_amd64.deb ...
Unpacking libobasis4.4-core (4.4.7.2-2) ...
...
---- END OUTPUT ----
</pre>



<b>Published: Friday, February 5, 2016</b>

</div>

<hr>
</body></html>