<html>
<head>
<title>Strange binaries changing size in Linux</title>
<link rel="stylesheet" type="text/css" href="css/blogstyle.css">
</head>
<body style="margin:20;padding:0;">
<script language="javascript">
window.parent.document.title = "Strange binaries changing size in Linux";
</script>
<div id="section"><p id="postTitle">Strange binaries changing size in Linux</p>
<p><div style="text-align: justify;"><span style="font-size:85%;"><span style="font-family:arial;">Last week i noticed a problem in one of my machines in two of our Redhat Fedora Linux machines. I realized about this problem when i executed the bash command &quot;umask&quot; instead of receiving 0755 or whathever the mode of files creation is, i received &quot;Linux&quot;. So i checked the rpm packages installed from bash, procps, lsof, made a copy from the installed binaries in a directory and reinstalled the original packages from CD, the same version that was installed already.<br /><br />rpm -i --force <br /><br />Then i compared the previous binaries and the new ones (installed from the rpm package) and the size was different, so something changed the files, but not the package, so it was not an up2date from Redhat.<br /><br />I looked at my co-worker machine and there was happening the same, he has FC4 and me FC2. So i decided to investigate and coded a <a href="#">daemon in c</a> to check when the files change and send me an email with information about processes and who is connected to the machine.<br /><br />In my machine with Fedora Core 2 the files just changed once, and next night no more... strange, i dont know what happened there. In my co-workers machine, the files are changing every night at 4:02, nobody connected to the machine and these processes running:<br /><span style="font-size:78%;"><br /></span></span><span style="font-size:78%;"><span style="font-family:courier new;"> root 19090 2184 0 04:02 ? 00:00:00 crond</span><br /><span style="font-family:courier new;"> root 19091 19090 0 04:02 ? 00:00:00 /bin/bash /usr/bin/run-parts /etc/cron.daily</span><br /><span style="font-family:courier new;">smmsp 19464 19090 0 04:02 ? 00:00:00 /usr/sbin/sendmail -FCronDaemon -i -odi -oem -oi -t</span><br /><span style="font-family:courier new;"> root 20037 19091 0 04:02 ? 00:00:00 /bin/sh /etc/cron.daily/rpm</span><br /><span style="font-family:courier new;">root 20038 20037 28 04:02 ? 00:00:02 /usr/lib/rpm/rpmq -q --all --qf %{name}-%{version}-%{release}.%{arch}.rpm\n</span><br /><span style="font-family:courier new;"> root 20039 20037 0 04:02 ? 00:00:00 sort</span><br /><span style="font-family:courier new;"> root 20040 19091 0 04:02 ? 00:00:00 awk -v progname=/etc/cron.daily/rpm progname {????? print progname &quot;:\n&quot;????? progname=&quot;&quot;;???? }???? { print; }</span><br /><span style="font-family:courier new;"> root 20042 15186 0 04:03 ? 00:00:00 /tmp/.backup/ps -ef<br /><br /><span style="font-size:85%;"><span style="font-family:arial;"><span style=";font-family:arial;font-size:100%;">So may be the cron.daily is involved. I will continue investigating.<br /><br />I hope i can post news about this problem that may be is related and automatic update in Fedora Core 4.<br /></span><br /></span></span></span></span></span></div><div style="clear: both;"></div>
<b>Published: Wednesday, November 09, 2005</b>
<a href="tag_linux">linux</a>&nbsp;<a href="tag_debian">debian</a>&nbsp;
<hr>
</body></html>